(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78e79de7"],{1420:function(e,t,o){},8996:function(e,t,o){"use strict";o.d(t,"g",(function(){return n})),o.d(t,"j",(function(){return a})),o.d(t,"d",(function(){return s})),o.d(t,"b",(function(){return i})),o.d(t,"m",(function(){return l})),o.d(t,"h",(function(){return c})),o.d(t,"c",(function(){return u})),o.d(t,"a",(function(){return d})),o.d(t,"l",(function(){return m})),o.d(t,"e",(function(){return p})),o.d(t,"f",(function(){return f})),o.d(t,"i",(function(){return g})),o.d(t,"k",(function(){return h}));var r=o("b775");function n(){return Object(r["a"])({url:"/api/Role/getRole",method:"get"})}function a(e){return Object(r["a"])({url:"/api/User/getUserList",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/api/User/deleteUser",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/api/User/addUser",method:"post",data:e})}function l(e){return Object(r["a"])({url:"/api/User/updateUser",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/api/Role/getRoleList",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/api/Role/deleteRole",method:"post",data:e})}function d(e){return Object(r["a"])({url:"/api/Role/addRole",method:"post",data:e})}function m(e){return Object(r["a"])({url:"/api/Role/updateRole",method:"post",data:e})}function p(e){return Object(r["a"])({url:"/api/Power/getPowerList",method:"get"})}function f(e){return Object(r["a"])({url:"/api/Power/getPowerListByRoleID",method:"post",data:e})}function g(){return Object(r["a"])({url:"/api/SystemConfig/GetSystemXmlConfig",method:"get"})}function h(e){return Object(r["a"])({url:"/api/SystemConfig/SetSystemXmlConfig",method:"post",data:e})}},"9ed6":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("div",{staticClass:"layer"},[r("div",{staticClass:"some-space"},[r("img",{staticClass:"logo",attrs:{src:o("a5ed"),alt:""}}),e._v(" "),r("div",{staticClass:"form"},[r("h2",[e._v(e._s(e.$t("login.title")))]),e._v(" "),r("el-form",{ref:"loginForm",staticClass:"demo-ruleForm",attrs:{"inline-message":!0,model:e.loginForm,rules:e.loginRules,"label-position":"left","label-width":"0px"}},[r("el-form-item",{attrs:{prop:"username"}},[r("div",{staticClass:"item"},[r("i",{staticClass:"el-icon-user-solid"}),e._v(" "),r("el-input",{staticClass:"input",attrs:{type:"text","auto-complete":"off",placeholder:"账号",clearable:""},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username","string"===typeof t?t.trim():t)},expression:"loginForm.username"}})],1)]),e._v(" "),r("el-form-item",{attrs:{prop:"password"}},[r("div",{staticClass:"item"},[r("i",{staticClass:"el-icon-lock"}),e._v(" "),r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码",clearable:""},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password","string"===typeof t?t.trim():t)},expression:"loginForm.password"}})],1)]),e._v(" "),r("el-checkbox",{staticClass:"remember",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),r("el-form-item",{staticStyle:{width:"100%","margin-top":"20px"}},[r("el-button",{staticClass:"loginBtn",attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(e._s(e.$t("login.login")))])],1)],1)],1)])])])},n=[],a=o("c7eb"),s=(o("96cf"),o("1da1")),i=(o("61f7"),o("8996")),l={name:"Login",data:function(){var e=function(e,t,o){t?o():o(new Error("请输入用户名"))},t=function(e,t,o){t?o():o(new Error("请输入密码"))};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"change",validator:e}],password:[{required:!0,trigger:"change",validator:t}]},loading:!1,passwordType:"password",redirect:void 0,checked:!0}},created:function(){var e=this;document.onkeydown=function(t){t=window.event||t,"/login"!==e.$route.path&&"/"!==e.$route.path||"Enter"!==t.code&&"enter"!==t.code||e.handleLogin()}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},mounted:function(){this.loginForm.username=localStorage.getItem("username"),this.loginForm.password=localStorage.getItem("password")},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.checked?(localStorage.setItem("username",this.loginForm.username),localStorage.setItem("password",this.loginForm.password)):(localStorage.removeItem("username"),localStorage.removeItem("password"));var t=this;this.$refs.loginForm.validate((function(o){if(!o)return console.log("error submit!!"),!1;e.loading=!0;var r={userName:t.loginForm.username,passWord:t.loginForm.password};e.$store.dispatch("user/login",r).then(Object(s["a"])(Object(a["a"])().mark((function t(){var o;return Object(a["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$router.push({path:e.redirect||"/"}),e.loading=!1,t.next=4,Object(i["i"])();case 4:o=t.sent,2e4===o.code&&o.data&&(console.log("查看res",o.data),e.$store.dispatch("sysConfig/setSystemConfig",o.data));case 6:case"end":return t.stop()}}),t)})))).catch((function(){e.loading=!1}))}))}}},c=l,u=(o("e643"),o("2877")),d=Object(u["a"])(c,r,n,!1,null,"ade98e9e",null);t["default"]=d.exports},e643:function(e,t,o){"use strict";o("1420")}}]);